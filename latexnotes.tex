%!tex program = lualatex
\documentclass{ctexbook}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% silent warnings
\usepackage{silence}
\WarningFilter{latexfont}{Font shape}
\WarningFilter{latexfont}{Size substitution}
\WarningFilter{latexfont}{Some font}
\WarningFilter{layouts}{Layout scale}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% layout related settings
\usepackage{fancyhdr}
\usepackage{emptypage}
\pagestyle{fancy}
% \renewcommand\headrulewidth{0.4pt}
\setlength{\headheight}{13.06885pt}
\hfuzz=10pt
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% minted settings 
\usepackage[outputdir=build]{minted}
\newmintinline[texinline]{latex}{breaklines, breakbefore=\space, escapeinside=||}
\newmintinline[shinline]{shell}{breaklines}
\newcommand\showdim[1]{\texinline{#1}=\the#1}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% packages
\usepackage[colorlinks=true]{hyperref}
\usepackage{hologo}
\usepackage{geometry}
\usepackage{layouts}
\usepackage{xcolor}
\usepackage{tipauni} % 音标
\usepackage[all]{tcolorbox}
\usepackage{booktabs}
\usepackage{csvsimple-l3}
\usepackage{longtable}
\usepackage{rotating}
\usepackage{tikz}
\usepackage{csquotes}
\usepackage{zhlipsum}
\usepackage{float}
\usepackage{enumitem}
\usepackage{calc}
\usepackage{twemojis}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\colorlet{titlecolor}{green!60!blue}
\colorlet{framecolor}{green!70!blue!30}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ctexset{
  section/format += {\flushleft\color{titlecolor}\pingfang},
  section/number = {\arabic{section}},
  section/name = {第,节},
  section/numberformat += {\color{titlecolor}\fontsize{48}{64}\selectfont}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% tcolorbox settings
\newtcblisting[auto counter,number within=section]{texlst}[1][]{%
listing engine=minted,
minted language=latex,
sidebyside,
minted options app={linenos, numbersep=5pt},
lower separated=false,
colframe=framecolor,
righthand width=3cm,
title={\textsf{代码示例\thetcbcounter}},
% before=\begin{figure}[H],
% after=\end{figure},
#1}

\makeatletter
\setlength{\@fptop}{0pt}
\makeatother

\newtcblisting[auto counter,number within=section]{shellcmd}[1][]{%
listing only,
listing engine=minted,
minted language=shell,
colframe=framecolor,
title={CMD \thetcbcounter},
% before=\begin{figure}[htpb],
% after=\end{figure},
#1}

\newcommand{\inlinedemo}[1]{\texinline{#1} \dotfill \(\displaystyle #1 \)}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% title setting
\author{dax}
\date{2024年05月22日}
\title{\LaTeX 学习笔记}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% general settings
\setlength{\headwidth}{\textwidth}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\includeonly{chapter02}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}
\maketitle
\include{prematter}
\tableofcontents
\part{基础篇}
\include{chapter01}
\include{chapter02}
% \include{chapter03}
\include{chapter_history}
\include{expandafter}
\end{document}
