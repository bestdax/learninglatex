%!tex program = lualatex
\documentclass{ctexbook}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% silent warnings
\usepackage{silence}
\WarningFilter{latexfont}{Font shape}
\WarningFilter{latexfont}{Size substitution}
\WarningFilter{latexfont}{Some font}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage[colorlinks=true]{hyperref}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ctexset{
  section/format += {\flushleft\color{green!50!blue}\pingfang},
  section/number = {\Roman{section}}
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{fancyhdr}
\pagestyle{fancy}
\renewcommand\headrulewidth{0.4pt}
\setlength{\headheight}{13.06885pt}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% minted settings 
\usepackage[outputdir=build]{minted}
\newmintinline[texinline]{latex}{breaklines, breakbefore=\space}
\newmintinline[shinline]{shell}{breaklines}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage{hologo}
\usepackage{xcolor}
\usepackage{tipauni} % 音标
\usepackage[all]{tcolorbox}
\usepackage{booktabs}
\usepackage{csvsimple-l3}
\usepackage{longtable}
\usepackage{rotating}
\usepackage{tikz}
\usepackage{csquotes}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% tcolorbox settings
% \NewTCBListing[auto counter]{texlst}{!oo}{
%   listing engine=minted,
%   minted language=latex,
%   sidebyside,
%   minted options app={linenos, numbersep=5pt},
%   lower separated=false,
%   colframe=green!50!blue,
%   righthand width=3cm,
%   title={\pingfang 代码示例\thetcbcounter},
%   label={code\thetcbcounter},
%   before=\begin{figure}[ht],
%   after=\end{figure},
%   \IfNoValueTF{#1}{}{#1},
%   \IfNoValueTF{#2}{}{#2},
% }
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newtcblisting[auto counter,number within=section]{texlst}[1][]{%
listing engine=minted,
minted language=latex,
sidebyside,
minted options app={linenos, numbersep=5pt},
lower separated=false,
colframe=green!50!blue,
righthand width=3cm,
title={\pingfang 代码示例\thetcbcounter},
before=\begin{figure}[ht],
after=\end{figure},
#1}


% TODO make a new cmd can receive multiline commands
\newcommand{\shellcmd}[1]{%
  \begin{tcolorbox}[title=CMD, colframe=green!50!blue]%
    \mintinline{shell}{#1}
  \end{tcolorbox}
}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% title setting
\author{dax}
\date{2024年05月22日}
\title{\LaTeX 学习笔记}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}
\maketitle
\include{prematter}
\tableofcontents
\part{基础篇}
\include{chapter01}
\include{chapter02}
% \include{chapter03}
\include{chapter_history}

\end{document}
